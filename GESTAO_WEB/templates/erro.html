{% extends "base.html" %}{% block title %}Página Não Encontrada{% endblock %}{% block content %}<style>.error-container{text-align:center;padding:60px 20px;}.error-code{font-size:8rem;font-weight:700;color:#6c757d;text-shadow:2px 2px 4px rgba(0,0,0,0.1);}.error-heading{font-size:2.5rem;font-weight:300;margin-top:-20px;margin-bottom:20px;}.error-message{font-size:1.25rem;color:#6c757d;margin-bottom:40px;}.error-actions .btn{margin:0 10px;min-width:200px;}</style><div class="error-container"><div class="error-code">404</div><h1 class="error-heading">Oops! Página não encontrada.</h1><p class="error-message">{{ message or "O recurso que você está procurando não existe ou foi movido." }}</p><div class="error-actions"><a href="/" class="btn btn-primary btn-lg"><i class="bi bi-house-door-fill"></i> Voltar para o Início</a><button class="btn btn-outline-secondary btn-lg" data-bs-toggle="modal" data-bs-target="#searchModal"><i class="bi bi-search"></i> Procurar por CPF</button></div></div><div class="modal fade" id="searchModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="searchModalLabel"><i class="bi bi-search"></i> Procurar Cliente por CPF</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="search-form"><div class="mb-3"><label for="cpf-search" class="form-label">Digite o CPF do cliente:</label><input type="text" class="form-control" id="cpf-search" placeholder="000.000.000-00" required></div><button type="submit" class="btn btn-primary w-100">Procurar</button></form><div id="search-result" class="mt-3"></div></div></div></div></div>{% endblock %}{% block scripts %}<script>document.addEventListener('DOMContentLoaded',function(){const searchForm=document.getElementById('search-form');if(searchForm){const searchInput=document.getElementById('cpf-search');const searchResult=document.getElementById('search-result');searchForm.addEventListener('submit',function(event){event.preventDefault();const cpf=searchInput.value;searchResult.innerHTML='<div class="d-flex justify-content-center"><div class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></div></div>';fetch(`/api/buscar_cliente_por_cpf?cpf=${encodeURIComponent(cpf)}`).then(response=>response.json()).then(data=>{if(data.id){searchResult.innerHTML=`<div class="alert alert-success">Cliente encontrado! <a href="/cliente/${data.id}" class="alert-link">Clique aqui para ir para a página de ${data.nome}</a>.</div>`;}else{searchResult.innerHTML=`<div class="alert alert-danger">${data.detail||'Nenhum cliente encontrado com este CPF.'}</div>`;}}).catch(error=>{console.error('Erro na busca:',error);searchResult.innerHTML='<div class="alert alert-danger">Ocorreu um erro ao realizar a busca.</div>';});});}});</script>{% endblock %}
